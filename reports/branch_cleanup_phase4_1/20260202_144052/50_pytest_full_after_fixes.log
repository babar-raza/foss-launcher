C:\Users\prora\OneDrive\Documents\GitHub\foss-launcher_worktrees\consolidate_20260202_120555\tests\conftest.py:106: UserWarning: WARNING: PYTHONHASHSEED is 'None', expected '0' for deterministic tests (Guarantee I: Non-Flaky Tests)
  warnings.warn(
============================= test session starts =============================
platform win32 -- Python 3.13.2, pytest-8.4.2, pluggy-1.6.0
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: C:\Users\prora\OneDrive\Documents\GitHub\foss-launcher_worktrees\consolidate_20260202_120555
configfile: pyproject.toml
plugins: anyio-4.11.0, Faker-40.1.0, langsmith-0.4.37, locust-2.43.0, asyncio-0.24.0, base-url-2.1.0, benchmark-5.2.3, cov-5.0.0, html-4.1.1, httpx-0.36.0, metadata-3.1.1, mock-3.14.0, playwright-0.7.2, rerunfailures-16.1, timeout-2.3.1, xdist-3.6.1
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1503 items

tests\e2e\test_tc_522_pilot_cli.py ss                                    [  0%]
tests\e2e\test_tc_903_vfv.py ..........                                  [  0%]
tests\integration\test_gate_o_budgets.py ....                            [  1%]
tests\integration\test_tc_300_run_loop.py sssssss                        [  1%]
tests\pilots\test_pilot_discovery.py ....                                [  1%]
tests\pilots\test_run_pilot_dry_run.py ....                              [  2%]
tests\test_spec_pack.py ....                                             [  2%]
tests\unit\cli\test_tc_530_cli_entrypoints.py ........s...........       [  3%]
tests\unit\clients\test_commit_service_offline.py .....                  [  3%]
tests\unit\clients\test_http.py ...................                      [  5%]
tests\unit\clients\test_llm_mock_provider.py ......                      [  5%]
tests\unit\clients\test_tc_500_services.py ....................          [  6%]
tests\unit\content\test_tc_540_path_resolver.py ........................ [  8%]
........................                                                 [ 10%]
tests\unit\content\test_tc_550_hugo_config.py .......................... [ 11%]
........                                                                 [ 12%]
tests\unit\determinism\test_tc_560_golden_run.py ....................... [ 13%]
........................                                                 [ 15%]
tests\unit\io\test_atomic.py .............                               [ 16%]
tests\unit\io\test_hashing.py ...........                                [ 17%]
tests\unit\io\test_run_config.py ..........                              [ 17%]
tests\unit\io\test_schema_validation.py .................                [ 18%]
tests\unit\io\test_yamlio.py ..............                              [ 19%]
tests\unit\models\test_base.py ......                                    [ 20%]
tests\unit\models\test_event.py .....                                    [ 20%]
tests\unit\models\test_product_facts.py ......                           [ 21%]
tests\unit\models\test_state.py .........                                [ 21%]
tests\unit\observability\test_tc_580_evidence_packager.py .............. [ 22%]
........                                                                 [ 23%]
tests\unit\observability\test_tc_580_reports_index.py .................  [ 24%]
tests\unit\observability\test_tc_580_run_summary.py .................... [ 25%]
........                                                                 [ 26%]
tests\unit\orchestrator\test_tc_300_graph.py ......ss                    [ 26%]
tests\unit\resilience\test_tc_600_checkpoint.py ..................       [ 27%]
tests\unit\resilience\test_tc_600_idempotency.py ....................    [ 29%]
tests\unit\resilience\test_tc_600_resume.py ....................         [ 30%]
tests\unit\resilience\test_tc_600_retry_policy.py ....................   [ 31%]
tests\unit\resolvers\test_public_urls.py ...........................     [ 33%]
tests\unit\security\test_tc_590_file_scanner.py ........................ [ 35%]
....                                                                     [ 35%]
tests\unit\security\test_tc_590_redactor.py ......................       [ 36%]
tests\unit\security\test_tc_590_secret_detector.py ..................... [ 38%]
.....................                                                    [ 39%]
tests\unit\state\test_tc_201_emergency_mode.py ......................... [ 41%]
...............                                                          [ 42%]
tests\unit\telemetry_api\test_tc_520_api_setup.py ...................... [ 43%]
.                                                                        [ 43%]
tests\unit\telemetry_api\test_tc_521_run_endpoints.py .................. [ 45%]
.........                                                                [ 45%]
tests\unit\telemetry_api\test_tc_522_batch_upload.py ................... [ 46%]
                                                                         [ 46%]
tests\unit\telemetry_api\test_tc_523_metadata_endpoints.py ............  [ 47%]
tests\unit\test_bootstrap.py .....                                       [ 48%]
tests\unit\test_determinism.py .....                                     [ 48%]
tests\unit\test_tc_530_entrypoints.py ..FFFFF..                          [ 49%]
tests\unit\test_validate_windows_reserved_names.py .......               [ 49%]
tests\unit\util\test_budget_tracker.py .............                     [ 50%]
tests\unit\util\test_diff_analyzer.py ...............                    [ 51%]
tests\unit\util\test_path_validation.py .......................          [ 52%]
tests\unit\util\test_subprocess.py ......................                [ 54%]
tests\unit\validators\test_tc_590_security_gate.py ...............       [ 55%]
tests\unit\workers\_git\test_repo_url_validator.py ..................... [ 56%]
........................................................                 [ 60%]
tests\unit\workers\test_tc_400_repo_scout.py ............                [ 61%]
tests\unit\workers\test_tc_401_clone.py ................                 [ 62%]
tests\unit\workers\test_tc_402_fingerprint.py .......................... [ 64%]
................                                                         [ 65%]
tests\unit\workers\test_tc_403_discover_docs.py ........................ [ 66%]
................................                                         [ 68%]
tests\unit\workers\test_tc_404_discover_examples.py .................... [ 70%]
....................................                                     [ 72%]
tests\unit\workers\test_tc_410_facts_builder.py ........                 [ 73%]
tests\unit\workers\test_tc_411_extract_claims.py ....................... [ 74%]
..............                                                           [ 75%]
tests\unit\workers\test_tc_412_map_evidence.py ......................... [ 77%]
.......                                                                  [ 77%]
tests\unit\workers\test_tc_413_detect_contradictions.py ................ [ 78%]
..................                                                       [ 79%]
tests\unit\workers\test_tc_420_snippet_curator.py ...........            [ 80%]
tests\unit\workers\test_tc_421_extract_doc_snippets.py ................. [ 81%]
.....................................                                    [ 84%]
tests\unit\workers\test_tc_422_extract_code_snippets.py ................ [ 85%]
....................................                                     [ 87%]
tests\unit\workers\test_tc_430_ia_planner.py ........................... [ 89%]
...                                                                      [ 89%]
tests\unit\workers\test_tc_440_section_writer.py .................       [ 90%]
tests\unit\workers\test_tc_450_linker_and_patcher.py .................   [ 92%]
tests\unit\workers\test_tc_460_validator.py ....................         [ 93%]
tests\unit\workers\test_tc_470_fixer.py .........................        [ 95%]
tests\unit\workers\test_tc_480_pr_manager.py ................            [ 96%]
tests\unit\workers\test_tc_570_extended_gates.py .....................   [ 97%]
tests\unit\workers\test_tc_571_perf_security_gates.py ...............    [ 98%]
tests\unit\workers\test_tc_902_w4_template_enumeration.py .............. [ 99%]
.......                                                                  [ 99%]
tests\unit\workers\w4\test_tc_925_config_loading.py ..                   [100%]

================================== FAILURES ===================================
______________________ test_mcp_server_module_importable ______________________
tests\unit\test_tc_530_entrypoints.py:40: in test_mcp_server_module_importable
    import launch.mcp.server
src\launch\mcp\__init__.py:13: in <module>
    from .server import SERVER_NAME, SERVER_VERSION, create_mcp_server, start_server
src\launch\mcp\server.py:24: in <module>
    import mcp.server.stdio
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\__init__.py:2: in <module>
    from .client.session_group import ClientSessionGroup
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\client\session_group.py:28: in <module>
    from mcp.client.stdio import StdioServerParameters
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\client\stdio\__init__.py:17: in <module>
    from mcp.os.win32.utilities import (
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\os\win32\utilities.py:22: in <module>
    import pywintypes
E   ModuleNotFoundError: No module named 'pywintypes'

During handling of the above exception, another exception occurred:
tests\unit\test_tc_530_entrypoints.py:43: in test_mcp_server_module_importable
    pytest.fail(f"Failed to import launch.mcp.server: {e}")
E   Failed: Failed to import launch.mcp.server: No module named 'pywintypes'
_____________________ test_launch_run_console_script_help _____________________
tests\unit\test_tc_530_entrypoints.py:81: in test_launch_run_console_script_help
    pytest.fail(f"console script '{script_name}' not installed; run make install-uv (pip install -e '.[dev]')")
E   Failed: console script 'launch_run' not installed; run make install-uv (pip install -e '.[dev]')
__________________ test_launch_validate_console_script_help ___________________
tests\unit\test_tc_530_entrypoints.py:117: in test_launch_validate_console_script_help
    pytest.fail(f"console script '{script_name}' not installed; run make install-uv (pip install -e '.[dev]')")
E   Failed: console script 'launch_validate' not installed; run make install-uv (pip install -e '.[dev]')
_____________________ test_launch_mcp_console_script_help _____________________
tests\unit\test_tc_530_entrypoints.py:151: in test_launch_mcp_console_script_help
    pytest.fail(f"console script '{script_name}' not installed; run make install-uv (pip install -e '.[dev]')")
E   Failed: console script 'launch_mcp' not installed; run make install-uv (pip install -e '.[dev]')
_____________________ test_cli_modules_have_main_callable _____________________
tests\unit\test_tc_530_entrypoints.py:177: in test_cli_modules_have_main_callable
    module = importlib.import_module(module_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1310: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:1026: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
src\launch\mcp\__init__.py:13: in <module>
    from .server import SERVER_NAME, SERVER_VERSION, create_mcp_server, start_server
src\launch\mcp\server.py:24: in <module>
    import mcp.server.stdio
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\__init__.py:2: in <module>
    from .client.session_group import ClientSessionGroup
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\client\session_group.py:28: in <module>
    from mcp.client.stdio import StdioServerParameters
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\client\stdio\__init__.py:17: in <module>
    from mcp.os.win32.utilities import (
C:\Users\prora\AppData\Roaming\Python\Python313\site-packages\mcp\os\win32\utilities.py:22: in <module>
    import pywintypes
E   ModuleNotFoundError: No module named 'pywintypes'

During handling of the above exception, another exception occurred:
tests\unit\test_tc_530_entrypoints.py:182: in test_cli_modules_have_main_callable
    pytest.fail(f"Failed to import {module_name}: {e}")
E   Failed: Failed to import launch.mcp.server: No module named 'pywintypes'
=========================== short test summary info ===========================
FAILED tests/unit/test_tc_530_entrypoints.py::test_mcp_server_module_importable
FAILED tests/unit/test_tc_530_entrypoints.py::test_launch_run_console_script_help
FAILED tests/unit/test_tc_530_entrypoints.py::test_launch_validate_console_script_help
FAILED tests/unit/test_tc_530_entrypoints.py::test_launch_mcp_console_script_help
FAILED tests/unit/test_tc_530_entrypoints.py::test_cli_modules_have_main_callable
============ 5 failed, 1486 passed, 12 skipped in 71.87s (0:01:11) ============
